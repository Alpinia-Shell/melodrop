<div class = "row">
  <div class="col-2 bg-light sidebar">
    <%= render 'public/users/sidebar' %>
  </div>
  <div class = "col-8 p-0 mt-5 d-flex flex-column">
    <div class = "row ">
      <div class = "col-10 d-flex justify-content-start ps-5">
        <%= image_tag @user.get_profile_image(100,100),class: "rounded-circle border", style: "width: 100px; height: 100px; object-fit: cover;" %>
        <div class ="flex-column ">
          <div class = "ms-3 mb-3">なまえ: <%= @user.name %></div>
          <div class = "ms-3 mb-3">しょうかい: <%= @user.introduction %></div>
          <div class = "ms-3 mb-3">フォロー：63人 フォロワー:100人</div>
        </div>
      </div>
      <div class = "col-2">
        <% if @user == current_user %>
          <div>
            <%= link_to edit_user_path(@user) ,class: "btn btn-outline-secondary block" do %>
              <i class="fa-solid fa-gear"></i>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
    
    <div class = "d-flex justify-content-around w-100 text-center mt-4">
      <div class = "border-bottom">投稿</div> 
      <div class = "border-bottom">いいね</div> 
      <div class = "border-bottom">下書き</div> 
      <div class = "border-bottom">DM</div>
    </div>

    <% @posts.each do |post| %>
      <%= link_to post_path(post), style: "width: 100%;" do %>
        <div class="w-100 border-bottom p-4">
          <div class="row">
            <div class="col-2 text-center">
              <%= image_tag post.user.get_profile_image(100,100), class: "rounded-circle border border-black" %>
              <div class="mt-3"><%= post.user.name %></div>
            </div>
            <div class="col-8 d-flex flex-column text-center justify-content-center">
              <h4 class="py-3 fw-bold"><%= post.title %></h4>
              <% if post.image.attached? %>
                <div class="mx-auto mb-3 d-flex align-items-center justify-content-center rounded"
                      style="width:300px; height:300px; background-color:#f0f0f0;">
                  <%= image_tag post.image, style: "max-height:100%; max-width:100%; object-fit:contain;" %>
                </div>
              <% end %>
              <div class="text-truncate-multiline mx-auto"><%= post.body %></div>
            </div>
            <div class="col-2 p-0 text-start">
              ・タグ<br>・タグ
            </div>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="col-2 p-0 bg-light sidebar">
    <%= render 'public/posts/sidebarleft' %>
  </div>
</div>